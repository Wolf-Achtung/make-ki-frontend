<!-- filename: index.html -->
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="robots" content="noindex, nofollow"/>
  <meta name="backend" content="https://sublime-consideration-production.up.railway.app"/>
  <title>KI-Status-Report – Testumgebung</title>
  <style>
    :root { --bg:#f7f9fb; --fg:#0d2b4a; --primary:#003b5a; --muted:#6b7280; }
    *{box-sizing:border-box}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif;background:var(--bg);color:var(--fg);margin:0;line-height:1.5;}
    main{max-width:900px;margin:0 auto;padding:2rem;}
    h1{letter-spacing:.2px;margin:0 0 1rem 0}
    p.hint{color:var(--muted);font-size:.95rem;margin:.25rem 0 1rem 0}
    a.button,button{background:var(--primary);color:#fff;border:none;border-radius:10px;padding:.8rem 1.2rem;text-decoration:none;display:inline-block;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,.05)}
    a.button + a.button{margin-left:.5rem}
    #status{margin-top:.75rem;color:var(--muted)}
    footer{margin-top:3rem;color:#555;font-size:.9rem}
  </style>
  <script src="js/config.js"></script>
  <script src="js/api.js" defer></script>
</head>
<body>
<main>
  <h1>KI-Status-Report (Testumgebung)</h1>
  <p class="hint">Diese Seite ist in der Testphase bewusst <strong>nicht indexiert</strong> (noindex).</p>
  <p>
    <a class="button" href="formular/index.html">Zum Fragebogen</a>
    <a class="button" href="feedback/feedback.html">Feedback geben</a>
    <button class="button" id="statusbtn">Backend-Status</button>
  </p>
  <div id="status">–</div>
  <footer>© KI‑Sicherheit.jetzt – Test</footer>
</main>
<script>
  document.getElementById('statusbtn').onclick = async () => {
    const el = document.getElementById('status');
    el.textContent = 'Prüfe…';
    try{
      const data = await KIAPI.health();
      el.textContent = data.ok ? 'Backend OK' : 'Fehler';
    }catch(e){
      el.textContent = 'Backend nicht erreichbar';
    }
  };
  // Auto-check once
  (async ()=>{
    try{ const d = await KIAPI.health(); document.getElementById('status').textContent = d.ok ? 'Backend OK' : 'Fehler'; }
    catch(e){ document.getElementById('status').textContent = 'Backend nicht erreichbar'; }
  })();
</script>
</body>
</html>
