<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>KI-Briefing: So nutzen Sie Ihr Potenzial</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 900px; margin: 2rem auto; padding: 1rem; background: #f9f9f9; }
    h1 { color: #333; }
    fieldset { margin-bottom: 2rem; padding: 1rem; border: 1px solid #ccc; background: #fff; }
    legend { font-weight: bold; }
    label, input, select, textarea { display: block; width: 100%; margin-bottom: 1rem; }
    button { background: #0070f3; color: white; border: none; padding: 0.75rem 1.5rem; cursor: pointer; }
    button:hover { background: #005bb5; }
    #result { margin-top: 2rem; padding: 1rem; background: #e0ffe0; border: 1px solid #ccc; }
  </style>
</head>
<body>
  <h1>KI-Briefing: So nutzen Sie Ihr Potenzial</h1>
  <form id="fragebogen-formular">

    <fieldset>
      <legend>ğŸ‘¤ Ãœber dich</legend>
      <label for="name">Wie dÃ¼rfen wir Sie ansprechen?</label>
      <input type="text" id="name" name="name">

      <label for="unternehmen">Wie heiÃŸt Ihr Unternehmen? *</label>
      <input type="text" id="unternehmen" name="unternehmen" required>

      <label for="email">E-Mail-Adresse fÃ¼r den Report *</label>
      <input type="email" id="email" name="email" required>

      <label for="freiberuflich">Sind Sie selbststÃ¤ndig oder freiberuflich tÃ¤tig?</label>
      <select id="freiberuflich" name="freiberuflich">
        <option>Ja</option>
        <option>Nein</option>
      </select>
    </fieldset>

    <fieldset>
      <legend>ğŸ¢ Ihr GeschÃ¤ftsfeld</legend>
      <label for="branche">Welche Branche beschreibt Ihr TÃ¤tigkeitsfeld am besten?</label>
      <select id="branche" name="branche">
        <option>Marketing & Werbung</option>
        <option>IT & Software</option>
        <option>Beratung</option>
        <option>Gesundheit & Soziales</option>
        <option>Handwerk</option>
        <option>Einzelhandel</option>
      </select>

      <label for="bereich">Welcher Bereich steht im Mittelpunkt?</label>
      <input type="text" id="bereich" name="bereich">
    </fieldset>

    <fieldset>
      <legend>ğŸ§  Aktueller KI-Reifegrad</legend>
      <label for="strategie">Gibt es bereits eine KI-Strategie?</label>
      <select id="strategie" name="strategie">
        <option>Ja</option>
        <option>Nein</option>
        <option>In Planung</option>
      </select>

      <label for="prozesse">Wie stark sind Ihre Prozesse digitalisiert?</label>
      <select id="prozesse" name="prozesse">
        <option>Gar nicht</option>
        <option>Teilweise automatisiert</option>
        <option>VollstÃ¤ndig automatisiert</option>
      </select>

      <label for="infrastruktur">Wie sieht Ihre technische Infrastruktur aus?</label>
      <input type="text" id="infrastruktur" name="infrastruktur">

      <label for="kenntnis">Wie gut kennen sich Ihre Teams mit KI aus?</label>
      <select id="kenntnis" name="kenntnis">
        <option>Keine Erfahrung</option>
        <option>Grundkenntnisse</option>
        <option>Erfahrung im Einsatz</option>
        <option>KI-Kompetenzteam vorhanden</option>
      </select>
    </fieldset>

    <fieldset>
      <legend>ğŸ“œ Rechtliches & Verantwortung</legend>
      <label for="datenschutz">Datenschutz im Unternehmen</label>
      <select id="datenschutz" name="datenschutz">
        <option>VollstÃ¤ndig dokumentiert</option>
        <option>Teilweise dokumentiert</option>
        <option>Noch nicht geregelt</option>
      </select>

      <label for="verantwortlich">Wer ist fÃ¼r KI-Themen verantwortlich?</label>
      <input type="text" id="verantwortlich" name="verantwortlich">
    </fieldset>

    <fieldset>
      <legend>ğŸ¯ Ziele & Herausforderungen</legend>
      <label for="ziel">Was mÃ¶chten Sie durch KI erreichen?</label>
      <textarea id="ziel" name="ziel"></textarea>

      <label for="hindernis">Was hindert Sie aktuell daran?</label>
      <textarea id="hindernis" name="hindernis"></textarea>

      <label for="massnahmen">Gibt es erste MaÃŸnahmen?</label>
      <input type="text" id="massnahmen" name="massnahmen">

      <label for="tools">Welche Tools oder Plattformen setzen Sie (testweise) ein?</label>
      <input type="text" id="tools" name="tools">

      <label for="foerderung">Gibt es FÃ¶rderantrÃ¤ge oder Beratungen?</label>
      <textarea id="foerderung" name="foerderung"></textarea>
    </fieldset>

    <button type="submit">âœ… Analyse starten</button>
  </form>

  <div id="result" style="display:none;"></div>

  <script>
    document.getElementById("fragebogen-formular").addEventListener("submit", async function(event) {
      event.preventDefault();

      const formData = new FormData(this);
      const data = {};
      formData.forEach((value, key) => data[key] = value);

      const response = await fetch("https://make-ki-backend-production.up.railway.app/analyze", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(data)
      });

      const result = await response.json();
      const resultHTML = `
        <p><strong>âœ… Deine Eingaben wurden verarbeitet.</strong></p>
        <p><a href="${result.download_url}" target="_blank">ğŸ“„ Vorschau deines KI-Briefings anzeigen</a></p>
        <p><em>Optional:</em> <a href="#" onclick="alert('PDF-Versand folgt bald!')">Briefing per Mail erhalten</a></p>
      `;
      document.getElementById("result").innerHTML = resultHTML;
      document.getElementById("result").style.display = "block";
    });
  </script>
</body>
</html>
